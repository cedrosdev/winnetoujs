!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="release/",n(n.s=1)}([function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.r(t);var o={constructosPath:"./constructos",constructosOut:"./js/constructos",entry:"./js/app.js",out:"./release",folderName:"/",sass:"./sass",defaultLang:"en-us"};const r=new class{constructor(){this.constructoId=0,this.mutable=[],this.usingMutable=[],this.routes={},this.paramRoutes=[],this.routesOptions={},this.storedEvents=[],this.strings={},document.addEventListener("keydown",e=>{27===e.which&&history.go(-1)}),window.history&&window.history.pushState&&(window.onpopstate=e=>{var t;if(e.preventDefault(),null===(t=this.routesOptions)||void 0===t?void 0:t.onBack)try{this.routesOptions.onBack()}catch(e){console.error("Winnetou Error, id: CR001\nThe onBack option in createRoutes() is not valid. Please use a function. \n\nOriginal Error: ",e)}if(null==e.state)this.routes["/"]();else try{this.callRoute(e.state)}catch(t){console.error(`WinnetouJs Error, id: CR002\nGiven route is not available "${e.state}". Please verify given route. Original Error: ${t}`)}});let e=window.localStorage.getItem("theme");if(e){e=JSON.parse(e);let t=document.documentElement;Object.keys(e).forEach((function(n){t.style.setProperty(n,e[n])}))}}setMutable(e,t,n=!0){if(n?window.localStorage.setItem("mutable_"+e,t):this.mutable[e]=t,this.usingMutable[e]){let t=this.usingMutable[e];this.usingMutable[e]=[],t.forEach(e=>{let t=document.getElementById(e.pureId),n=(new e.method).constructo,o=document.createRange().createContextualFragment(n(e.elements).constructoString());this.replace(o,t)})}}getMutable(e){let t=window.localStorage.getItem("mutable_"+e)||null;return t||(t=this.mutable[e]||null),t}replace(e,t){if(t&&t.parentNode){t.parentNode.replaceChild(e,t)}}select(e=""){var t;const n={getEl(e){if(t)return t;if("object"==typeof e)return[e];if(e.includes(" "))return document.querySelectorAll(e);if(e.includes("#"))return e=e.replace("#",""),[document.getElementById(e)];if(e.includes("."))return e=e.replace(".",""),Array.from(document.getElementsByClassName(e));{if(e.includes("-win-"))return e=e.replace("#",""),[document.getElementById(e)];let t=Array.from(document.getElementsByTagName(e));return 0===t.length?[document.getElementById(e)]:t}},remove(){return t.forEach(e=>{e.remove()}),this},html(e){return t.forEach(t=>{t.innerHTML=e}),this},getHtml:()=>t[0].innerHTML,getText:()=>t[0].textContent,append(e){return t.forEach(t=>{t.innerHTML+=e}),this},prepend(e){return t.forEach(t=>{t.innerHTML=e+t.innerHTML}),this},css(e,n){let o=n;return t.forEach(t=>{"number"==typeof n&&(o=n+"px"),t.style[e]=o}),this},toggleClass(e){return t.forEach(t=>{t.classList.toggle(e)}),this},addClass(e){return t.forEach(t=>{t.classList.add(e)}),this},removeClass(e){return t.forEach(t=>{t.classList.remove(e)}),this},hide(){return t.forEach(e=>{e.classList.add("winnetou_display_none")}),this},show(){return t.forEach(e=>{e.classList.remove("winnetou_display_none"),"none"==getComputedStyle(e).display&&(e.style.display="initial")}),this},getWidth:()=>t[0].getBoundingClientRect().width,getHeight:()=>t[0].getBoundingClientRect().height,getLeft:()=>t[0].offsetLeft,getTop:()=>t[0].offsetTop,getGlobalPosition:()=>t[0].getBoundingClientRect(),getVal:()=>t[0].value,setVal(e){return t.forEach(t=>{if(t.value=e,"createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),t.dispatchEvent(n)}else t.fireEvent("onchange")}),this},setAttr(e,n){return t.forEach(t=>{t.setAttribute(e,n)}),this},getAttr:e=>t[0].getAttribute(e),isChecked:()=>t[0].checked,getFile:()=>t[0].files[0]};return t=n.getEl(e),n}createRoutes(e,t){this.routes=e,this.routesOptions=t,Object.keys(this.routes).forEach(e=>{let t=e.split("/").length;this.paramRoutes.push({root:e,size:t})})}navigate(e){var t;if(window.history&&window.history.pushState&&(this.callRoute(e),this.pushState(e),null===(t=this.routesOptions)||void 0===t?void 0:t.onGo))try{this.routesOptions.onGo()}catch(e){console.error("Winnetou Error, id: CR001\nThe onGo option in createRoutes() is not valid. Please use a function. \n\nOriginal Error: ",e)}}pass(e){var t;if(window.history&&window.history.pushState&&(this.callRoute(e),this.pushStateInteraction(e),null===(t=this.routesOptions)||void 0===t?void 0:t.onGo))try{this.routesOptions.onGo()}catch(e){console.error("Winnetou Error, id: CR001\nThe onGo option in createRoutes() is not valid. Please use a function. \n\nOriginal Error: ",e)}}pushStateInteraction(e){history.pushState(e,null)}callRoute(e){try{let t=e.split("/"),n=t.length,o=this.paramRoutes.filter(e=>e.size===n);0===o.length&&this.notFound();for(let e=0;e<o.length;e++){let n=o[e].root.split("/"),r=!0,s=[];for(let e=0;e<n.length;e++)if(n[e]!==t[e]){if(r=!1,!n[e].includes(":")){r=!1;break}r=!0,s.push(t[e])}if(r)return void this.routes[o[e].root](...s);e===o.length-1&&this.notFound()}}catch(e){console.log(e),this.notFound()}}notFound(){try{this.routes["/404"]()}catch(e){this.select("body").prepend("\n      \n      <p onclick=\"Winnetou.select('.winnetouNotFoundDefault').hide()\" style=\"width:100%;padding:15px;color:white;background-color:red;cursor:pointer;\" class='winnetouNotFoundDefault'>\n        Page not found. Click to close.\n      </p>\n      ")}}pushState(e){try{history.pushState(e,"",e)}catch(t){history.pushState(e,null)}}on(e,t,n){this.storedEvents.filter(o=>o.eventName===e&&o.elementSelector===t&&o.handler===n.toString()).length>0||(this.storedEvents.push({eventName:e,elementSelector:t,handler:n.toString()}),document.addEventListener(e,(function(e){if(!e.target.matches(t)){let n="#"+t;try{if(!e.target.matches(n))return}catch(e){return}}n(e.target)})))}click(e,t){var n="ontouchstart"in document.documentElement?"touchstart":"click";this.on(n,e,e=>{t(e)})}async lang(e,t){if(!window.localStorage.getItem("lang"))return t();let n=e;if(!(null==o?void 0:o.folderName))return console.error("WinnetouJs Translation Miss Configuration Error:You have to specify the name of winnetou folder in order to use the translations;"),t();"/"===o.folderName&&(o.folderName="");let r=null==o?void 0:o.defaultLang,s=window.localStorage.getItem("lang");s&&(r=s);var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&404==this.status&&console.log("\nThe file ",`${o.folderName}/translations/${r}.xml`,"are not found"),4==this.readyState&&200==this.status){try{this.responseXML.getElementsByTagName("winnetou")[0].childNodes.forEach(e=>{"#text"!=e.nodeName&&(n[e.nodeName]=e.textContent)})}catch(e){console.log("The translation file ",`${o.folderName}/translations/${r}.xml`," seens to be empty or incorrect.",e.message)}return t()}},i.open("GET",`${o.folderName}/translations/${r}.xml`,!0),i.send()}changeLang(e){window.localStorage.setItem("lang",e),location.reload()}newTheme(e){let t=document.documentElement;Object.keys(e).forEach((function(n){t.style.setProperty(n,e[n])})),window.localStorage.setItem("theme",JSON.stringify(e))}};var s=r.strings={welcome:"Congratulations! Your winnetoujs app is health and running."},i=n(0),l=n.n(i);class a extends class{_mutableToString(e){if(e){let t=JSON.parse(JSON.stringify(e));return Object.keys(e).forEach(n=>{if("object"==typeof e[n]){let o=e[n].mutable,s=r.getMutable(o)||`Mutable "${o}" not initialized yet.`;t[n]=s}}),t}return e}_saveUsingMutable(e,t,n){t&&Object.keys(t).forEach(o=>{if("object"==typeof t[o]){r.usingMutable[t[o].mutable]||(r.usingMutable[t[o].mutable]=[]);let s={pureId:e,elements:t,method:n};r.usingMutable[t[o].mutable].filter(t=>t.pureId==e).length>0||r.usingMutable[t[o].mutable].push(s)}})}_getIdentifier(e){return"notSet"!=e?e:++r.constructoId}create(e,t,n){let o;if(e.match(/\<tr|\<td/)){let o=document.querySelectorAll(t);0===o.length&&(o=document.querySelectorAll("#"+t)),o.forEach(t=>{n&&n.clear&&(t.innerHTML=""),n&&n.reverse?t.innerHTML=e+t.innerHTML:t.innerHTML+=e})}else{o=document.createRange().createContextualFragment(e);let r=document.querySelectorAll(t);0===r.length&&(r=document.querySelectorAll("#"+t)),r.forEach(e=>{n&&n.clear&&(e.innerHTML=""),n&&n.reverse?e.prepend(o):e.appendChild(o)})}}}{constructor(...e){super(...e),l()(this,"constructo",(e,t)=>{let n,o=this._getIdentifier(t&&t.identifier||"notSet"),r=this._mutableToString(e),s={code:e=>`\n  <div id="welcome-win-${o}">\n    <img src="https://raw.githubusercontent.com/cedrosdev/winnetoujs_assets/master/logo_v1_2020/logo_transparent.png"\n      class="logo"\n    >\n    <h1>WinnetouJs</h1>\n    <h2>${null==e?void 0:e.title}</h2>\n    <p>\n      <a href="https://winnetoujs.org"\n        >https://winnetoujs.org</a>\n    </p>\n  </div>\n`,create:(e,t)=>(this.create(n,e,t),{ids:{welcome:"welcome-win-"+o},code:s.code(r)}),constructoString:()=>s.code(r)};return n=s.code(r),this._saveUsingMutable("welcome-win-"+o,e,a),s})}}const u=(new a).constructo;r.lang(s,(function(){u({title:s.welcome}).create("#app")}))}]);
//# sourceMappingURL=winnetouBundle.min.js.map