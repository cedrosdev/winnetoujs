{
  "version": 3,
  "sources": ["../../../src/modules/select/attributes.ts"],
  "sourcesContent": ["import { getElements } from \"./selectors.ts\";\n\ntype Selector = string | Element | Element[];\n\nexport const getValue = (selector: Selector): string => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return (elements[0] as HTMLInputElement).value;\n};\n\nexport const setValue = (selector: Selector, value: string): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(item => {\n    (item as HTMLInputElement).value = value;\n    if (\"createEvent\" in document) {\n      var evt = document.createEvent(\"HTMLEvents\");\n      evt.initEvent(\"change\", false, true);\n      item.dispatchEvent(evt);\n    } else (item as any).fireEvent(\"onchange\");\n  });\n};\n\nexport const setAttr = (\n  selector: Selector,\n  attr: string,\n  value: string\n): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(item => {\n    item.setAttribute(attr, value);\n  });\n};\n\nexport const getAttr = (selector: Selector, attr: string): string | null => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return elements[0].getAttribute(attr);\n};\n\nexport const isChecked = (selector: Selector): boolean => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return (elements[0] as HTMLInputElement).checked;\n};\n\nexport const getFile = (selector: Selector): File | undefined => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return (elements[0] as HTMLInputElement).files?.[0];\n};\n\nexport const getFiles = (selector: Selector): FileList | null => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return (elements[0] as HTMLInputElement).files;\n};\n\nexport const disableElement = (selector: Selector): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  (elements[0] as HTMLInputElement).disabled = true;\n};\n\nexport const enableElement = (selector: Selector): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  (elements[0] as HTMLInputElement).disabled = false;\n};\n\nexport const setData = (\n  selector: Selector,\n  key: string,\n  value: string\n): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(item => {\n    (item as HTMLElement).dataset[key] = value;\n  });\n};\n\nexport const getData = (\n  selector: Selector,\n  key: string\n): string | undefined => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  return elements[0] ? (elements[0] as HTMLElement).dataset[key] : undefined;\n};\n\nexport const removeData = (selector: Selector, key: string): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(item => {\n    delete (item as HTMLElement).dataset[key];\n  });\n};\n\nexport const clearForm = (selector: Selector): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(form => {\n    if (form.tagName === \"FORM\") {\n      Array.from((form as HTMLFormElement).elements).forEach(element => {\n        const inputElement = element as HTMLInputElement;\n        if (inputElement.type === \"checkbox\" || inputElement.type === \"radio\") {\n          inputElement.checked = false;\n        } else if (element.tagName === \"SELECT\") {\n          (element as HTMLSelectElement).selectedIndex = -1;\n        } else {\n          (element as HTMLInputElement).value = \"\";\n        }\n      });\n    }\n  });\n};\n\nexport const serializeForm = (\n  selector: Selector\n): Record<string, string | string[]> => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  if (!elements[0] || elements[0].tagName !== \"FORM\") return {};\n\n  const formData = new FormData(elements[0] as HTMLFormElement);\n  const data: Record<string, string | string[]> = {};\n\n  for (let [key, value] of formData.entries()) {\n    if (data[key]) {\n      if (Array.isArray(data[key])) {\n        (data[key] as string[]).push(value as string);\n      } else {\n        data[key] = [data[key] as string, value as string];\n      }\n    } else {\n      data[key] = value as string;\n    }\n  }\n\n  return data;\n};\n\nexport const resetForm = (selector: Selector): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(form => {\n    if (form.tagName === \"FORM\") {\n      (form as HTMLFormElement).reset();\n    }\n  });\n};\n\nexport const insertTextAtCursor = (selector: Selector, text: string): void => {\n  const elements = Array.isArray(selector) ? selector : getElements(selector);\n  elements.forEach(item => {\n    if (item.tagName === \"INPUT\" || item.tagName === \"TEXTAREA\") {\n      const element = item as HTMLInputElement | HTMLTextAreaElement;\n      const start = element.selectionStart || 0;\n      const end = element.selectionEnd || 0;\n      const currentValue = element.value;\n\n      element.value =\n        currentValue.substring(0, start) + text + currentValue.substring(end);\n      element.selectionStart = element.selectionEnd = start + text.length;\n      element.focus();\n    }\n  });\n};\n"],
  "mappings": "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",
  "names": []
}
