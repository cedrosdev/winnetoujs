{
  "version": 3,
  "sources": ["../../src/modules/ssr.ts"],
  "sourcesContent": ["import path from \"path\";\nimport fs from \"fs\";\n\nconst ESC = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  '\"': \"&quot;\",\n  \"'\": \"&#39;\",\n};\nexport const escapeHTML = (v: string): string =>\n  v.replace(/[&<>\"']/g, ch => ESC[ch as keyof typeof ESC]);\n\n// Join chunks and arrays into a single HTML string\nexport const ssr = (...parts: any[]) => parts.flat(Infinity).join(\"\");\n\nconst partials = new Map();\nexport function loadPartial(fileName: string): string {\n  if (!partials.has(fileName)) {\n    console.log(`Loading partial from disk: ${fileName}`);\n    partials.set(\n      fileName,\n      fs.readFileSync(path.join(__dirname, fileName), \"utf8\")\n    );\n  } else {\n    console.log(`Using cached partial: ${fileName}`);\n  }\n  return partials.get(fileName);\n}\n"],
  "mappings": "AAAA,OAAO,UAAU;AACjB,OAAO,QAAQ;AAEf,MAAM,MAAM;AAAA,EACV,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AAAA,EACL,KAAK;AACP;AACO,MAAM,aAAa,CAAC,MACzB,EAAE,QAAQ,YAAY,QAAM,IAAI,EAAsB,CAAC;AAGlD,MAAM,MAAM,IAAI,UAAiB,MAAM,KAAK,QAAQ,EAAE,KAAK,EAAE;AAEpE,MAAM,WAAW,oBAAI,IAAI;AAClB,SAAS,YAAY,UAA0B;AACpD,MAAI,CAAC,SAAS,IAAI,QAAQ,GAAG;AAC3B,YAAQ,IAAI,8BAA8B,QAAQ,EAAE;AACpD,aAAS;AAAA,MACP;AAAA,MACA,GAAG,aAAa,KAAK,KAAK,WAAW,QAAQ,GAAG,MAAM;AAAA,IACxD;AAAA,EACF,OAAO;AACL,YAAQ,IAAI,yBAAyB,QAAQ,EAAE;AAAA,EACjD;AACA,SAAO,SAAS,IAAI,QAAQ;AAC9B;",
  "names": []
}
